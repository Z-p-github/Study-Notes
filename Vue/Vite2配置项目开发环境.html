<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>学习笔记</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="前端技术相关的文章，包含不限于vue，react，webpack，nodejs，算法等等">
    
    <link rel="preload" href="/Study-Notes/assets/css/0.styles.8d9746d5.css" as="style"><link rel="preload" href="/Study-Notes/assets/js/app.667a64fa.js" as="script"><link rel="preload" href="/Study-Notes/assets/js/2.950c954c.js" as="script"><link rel="preload" href="/Study-Notes/assets/js/24.2079b0ae.js" as="script"><link rel="preload" href="/Study-Notes/assets/js/13.1dd4895a.js" as="script"><link rel="prefetch" href="/Study-Notes/assets/js/10.6f3f3fcb.js"><link rel="prefetch" href="/Study-Notes/assets/js/11.426d95d3.js"><link rel="prefetch" href="/Study-Notes/assets/js/12.03ea809b.js"><link rel="prefetch" href="/Study-Notes/assets/js/14.8ae434e3.js"><link rel="prefetch" href="/Study-Notes/assets/js/15.9212e9c7.js"><link rel="prefetch" href="/Study-Notes/assets/js/16.e3c89c8d.js"><link rel="prefetch" href="/Study-Notes/assets/js/17.c4bbb1b9.js"><link rel="prefetch" href="/Study-Notes/assets/js/18.aeab883e.js"><link rel="prefetch" href="/Study-Notes/assets/js/19.737416a3.js"><link rel="prefetch" href="/Study-Notes/assets/js/20.257a7d6b.js"><link rel="prefetch" href="/Study-Notes/assets/js/21.5142747f.js"><link rel="prefetch" href="/Study-Notes/assets/js/22.da037fe3.js"><link rel="prefetch" href="/Study-Notes/assets/js/23.36511c6c.js"><link rel="prefetch" href="/Study-Notes/assets/js/25.f982991f.js"><link rel="prefetch" href="/Study-Notes/assets/js/26.7668d4c6.js"><link rel="prefetch" href="/Study-Notes/assets/js/27.c370df01.js"><link rel="prefetch" href="/Study-Notes/assets/js/28.64cb1036.js"><link rel="prefetch" href="/Study-Notes/assets/js/29.d4aa1de1.js"><link rel="prefetch" href="/Study-Notes/assets/js/3.bb3ecbf5.js"><link rel="prefetch" href="/Study-Notes/assets/js/30.b232c287.js"><link rel="prefetch" href="/Study-Notes/assets/js/31.ac9a0244.js"><link rel="prefetch" href="/Study-Notes/assets/js/32.534cb1aa.js"><link rel="prefetch" href="/Study-Notes/assets/js/33.139e5af1.js"><link rel="prefetch" href="/Study-Notes/assets/js/34.450d1e4b.js"><link rel="prefetch" href="/Study-Notes/assets/js/35.6616fe43.js"><link rel="prefetch" href="/Study-Notes/assets/js/36.4ae1d53b.js"><link rel="prefetch" href="/Study-Notes/assets/js/37.7c55f4d2.js"><link rel="prefetch" href="/Study-Notes/assets/js/38.082df52d.js"><link rel="prefetch" href="/Study-Notes/assets/js/39.69420b79.js"><link rel="prefetch" href="/Study-Notes/assets/js/4.121c4aaa.js"><link rel="prefetch" href="/Study-Notes/assets/js/40.8b3eb875.js"><link rel="prefetch" href="/Study-Notes/assets/js/41.0a4d5f9a.js"><link rel="prefetch" href="/Study-Notes/assets/js/42.bc009919.js"><link rel="prefetch" href="/Study-Notes/assets/js/43.408443ae.js"><link rel="prefetch" href="/Study-Notes/assets/js/5.9d2fff8f.js"><link rel="prefetch" href="/Study-Notes/assets/js/6.90674ba6.js"><link rel="prefetch" href="/Study-Notes/assets/js/7.28e35da2.js"><link rel="prefetch" href="/Study-Notes/assets/js/8.04a19d8c.js"><link rel="prefetch" href="/Study-Notes/assets/js/9.9541ef9d.js">
    <link rel="stylesheet" href="/Study-Notes/assets/css/0.styles.8d9746d5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Study-Notes/" class="home-link router-link-active"><!----> <span class="site-name">学习笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Study-Notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/Z-p-github/Study-Notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Study-Notes/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="https://github.com/Z-p-github/Study-Notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Study-Notes/" aria-current="page" class="sidebar-link">主页</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Study-Notes/JavaScript/小顶堆.html" class="sidebar-link">小顶堆</a></li><li><a href="/Study-Notes/JavaScript/位运算.html" class="sidebar-link">位运算</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>React</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group is-sub-group depth-1"><p class="sidebar-heading open"><span>React Fiber</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Study-Notes/React/React-Fiber/React理念.html" class="sidebar-link">React理念</a></li><li><a href="/Study-Notes/React/React-Fiber/ReactFiber架构.html" class="sidebar-link">Fiber架构</a></li><li><section class="sidebar-group is-sub-group depth-2"><p class="sidebar-heading"><span>React Fiber Render</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Study-Notes/React/React-Fiber/Fiber-dom-diff/beginWork.html" class="sidebar-link">beginWork阶段</a></li><li><a href="/Study-Notes/React/React-Fiber/Fiber-dom-diff/completeWork.html" class="sidebar-link">completeWork阶段</a></li><li><a href="/Study-Notes/React/React-Fiber/Fiber-dom-diff/commit.html" class="sidebar-link">commit阶段</a></li><li><a href="/Study-Notes/React/React-Fiber/Fiber-dom-diff/domdiff.html" class="sidebar-link">completeWork-diff阶段</a></li></ul></section></li><li><section class="sidebar-group is-sub-group depth-2"><p class="sidebar-heading"><span>Concurrent Mode</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Study-Notes/React/Concurrent-Mode/React中的事件优先级调度.html" class="sidebar-link">React事件优先级调度</a></li><li><a href="/Study-Notes/React/Concurrent-Mode/scheduler.html" class="sidebar-link">scheduler具体实现</a></li><li><a href="/Study-Notes/React/Concurrent-Mode/lane.html" class="sidebar-link">lane模型</a></li></ul></section></li><li><a href="/Study-Notes/React/React17.html" class="sidebar-link">React17</a></li><li><a href="/Study-Notes/React/React18.html" class="sidebar-link">React18</a></li></ul></section></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Study-Notes/Vue/Vue3+Typescript实现Form组件.html" class="sidebar-link">Vue3+Typescript实现Form组件</a></li><li><a href="/Study-Notes/Vue/搭建vue3和ts组件库开发环境.html" class="sidebar-link">搭建vue3和ts组件库开发环境</a></li><li><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html" class="active sidebar-link">Vite2配置项目开发环境</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#安装-vite" class="sidebar-link">安装 vite</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置-typescript" class="sidebar-link">配置 TypeScript</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置支持-vue3" class="sidebar-link">配置支持 vue3</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置ts校验vue文件" class="sidebar-link">配置ts校验vue文件</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置eslint" class="sidebar-link">配置eslint</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置prettier" class="sidebar-link">配置Prettier</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置-editorconfig" class="sidebar-link">配置 editorconfig</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置-git-hooks" class="sidebar-link">配置 git hooks</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置-commitlint" class="sidebar-link">配置 commitlint</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#配置别名" class="sidebar-link">配置别名</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#样式处理" class="sidebar-link">样式处理</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#静态资源处理" class="sidebar-link">静态资源处理</a></li><li class="sidebar-sub-header"><a href="/Study-Notes/Vue/Vite2配置项目开发环境.html#其他配置" class="sidebar-link">其他配置</a></li></ul></li><li><a href="/Study-Notes/Vue/基于Element-plus实现虚拟下拉组件.html" class="sidebar-link">基于Element-plus实现虚拟下拉组件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端生态</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Study-Notes/前端生态/eslint.html" class="sidebar-link">eslint</a></li><li><a href="/Study-Notes/前端生态/flutter实践.html" class="sidebar-link">flutter实践</a></li><li><a href="/Study-Notes/前端生态/flutter消息推送.html" class="sidebar-link">flutter消息推送</a></li><li><a href="/Study-Notes/前端生态/antd5架构分析.html" class="sidebar-link">antd5研究</a></li><li><a href="/Study-Notes/前端生态/element-plus架构分析.html" class="sidebar-link">element-plus样式+打包分析</a></li><li><a href="/Study-Notes/前端生态/ts类型打包.html" class="sidebar-link">ts类型打包</a></li><li><a href="/Study-Notes/前端生态/vscode扩展工具.html" class="sidebar-link">vscode扩展工具实现</a></li><li><a href="/Study-Notes/前端生态/svelte.html" class="sidebar-link">svelte框架</a></li><li><a href="/Study-Notes/前端生态/i18n.html" class="sidebar-link">国际化解决方案</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>go</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Study-Notes/go/mac如何安装grpc.html" class="sidebar-link">mac安装grpc</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><code>vite</code>是一种新型的前端构建工具，能够大幅度提高我们的开发速度，相较于我们熟悉的<code>webpack</code>，它有自己独特的优势与特点</p> <p>它主要由两部分组成：</p> <ul><li>一个开发服务器，它基于 原生 ES 模块 提供了 丰富的内建功能，如速度快到惊人的 模块热更新（HMR）。</li> <li>一套构建指令，它使用 Rollup 打包你的代码，并且它是预配置的，可输出用于生产环境的高度优化过的静态资源。</li></ul> <p><a href="https://cn.vitejs.dev/guide/why.html" target="_blank" rel="noopener noreferrer">为什么选择 vite<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 可以去官网查阅</p> <p>下面我们开始基于 <code>vite2</code> 来配置我们项目的基本开发环境吧</p> <h2 id="安装-vite"><a href="#安装-vite" class="header-anchor">#</a> 安装 vite</h2> <p>首先我们 先安装 <code>vite</code></p> <div class="language-js extra-class"><pre class="language-js"><code>pnpm i vite
</code></pre></div><h2 id="配置-typescript"><a href="#配置-typescript" class="header-anchor">#</a> 配置 TypeScript</h2> <p><code>vite2</code> 默认是支持<code>typescript</code>的，所以我们只需要增加一个对应的<code>typescript</code>配置文件即可</p> <p>首先先在根目录下面新建一个 <code>tsconfig.json</code> 配置文件，然后天际添加内容如下所示：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span> <span class="token comment">//遵循es6版本</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span> <span class="token comment">//打包模块类型es6</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">//按照node模块来解析</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//严格模式</span>
    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span> <span class="token comment">//不转义jsx</span>
    <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 支持es6,commonjs模块</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2018.Promise&quot;</span><span class="token punctuation">]</span> <span class="token comment">// 编译时用的库</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//包含的模块</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src/**/*.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*.d.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src/**/*.d.tsx&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="配置支持-vue3"><a href="#配置支持-vue3" class="header-anchor">#</a> 配置支持 vue3</h2> <p>首先安装<code>vue3</code>的相关包</p> <div class="language-js extra-class"><pre class="language-js"><code>pnpm i vue <span class="token operator">-</span><span class="token constant">S</span>
pnpm i @vite<span class="token operator">/</span>plugin<span class="token operator">-</span>vue <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>修改<code>vite.config.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&quot;@vitejs/plugin-vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>声明<code>vue</code>的类型，让<code>typescript</code>认识</p> <p>在 src 目录下面新建一个<code>env.d.ts</code>文件</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/// &lt;reference types=&quot;vite/client&quot; /&gt;</span>
<span class="token comment">//申明vue module</span>
<span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">&quot;*.vue&quot;</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> DefineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> component<span class="token operator">:</span> DefineComponent<span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> component<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>此时我们就可以去写我们的 <code>vue</code> 的代码了</p> <p>可以建立如下的目录结构：</p> <img src="/Study-Notes/assets/img/vite2-vue.78ed6e53.png" alt="vite2-vue" height="200"> <p>App.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>this is app page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span> <span class="token attr-name">msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>vue3 哈哈哈<span class="token punctuation">&quot;</span></span>  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'./components/HelloWorld.vue'</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>HelloWorld.vue</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>hellow world <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{msg}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
defineProps<span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token literal-property property">msg</span><span class="token operator">:</span>string<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>main.ts</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>createApp<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="配置ts校验vue文件"><a href="#配置ts校验vue文件" class="header-anchor">#</a> 配置ts校验vue文件</h2> <p><code>vite</code>中天生支持ts，但是<code>vite</code>中的ts只管编译，不管校验，报错了项目依然可以运行，所以我们可以加一个配置来限制这种情况</p> <p>安装 <code>vue-tsc</code> ，<code>vue-tsc</code> 可以对 <code>vue3</code> 进行 <code>typescript</code> 类型校验</p> <div class="language-js extra-class"><pre class="language-js"><code>pnpm install typescript vue<span class="token operator">-</span>tsc <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>配置<code>package.json</code>文件</p> <div class="language-json extra-class"><pre class="language-json"><code> <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span><span class="token string">&quot;vite&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span><span class="token string">&quot;vue-tsc --noEmit vite build&quot;</span>
  <span class="token punctuation">}</span>
</code></pre></div><p>这个时候在打包的过程中，就会去进行相关的ts类型校验，如果通过不了，那么打包就会失败</p> <h2 id="配置eslint"><a href="#配置eslint" class="header-anchor">#</a> 配置eslint</h2> <p><code>eslint</code>是一个插件化并且可以配置的<code>javascript</code>语法规则和代码风格的检查工具</p> <ul><li>代码质量，使用方式有可能又问题</li> <li>代码风格，风格不符好一定规则</li></ul> <p>安装相关插件：</p> <ul><li>eslint: Eslint是一个用于识别和报告在ECMAScript/JavaScript代码中发现错误的工具</li> <li>eslint-plugin-vue: vue官方的eslint插件</li> <li>@typescript-eslint/parser: 一个eslint解析器，它利用Typescript-ESTree 允许 ESlint检查Typescript的源代码</li> <li>@typescript-eslint/eslint-plugin: 一个eslint插件，为TypeScript代码库提供lint规则</li> <li>@vue/eslint-config-typescript: Vue的eslint-config-typescript</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>pnpm i eslint eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>vue @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>parser @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>eslint<span class="token operator">-</span>plugin @vue<span class="token operator">/</span>eslint<span class="token operator">-</span>config<span class="token operator">-</span>typescript <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>在项目的根目录下面新建<code>eslint</code>的配置文件 <code>.eslintrc.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">es2021</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">//继承如下规则</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;plugin:vue/vue3-recommended&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@vue/typescript/recommended&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">parserOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">parser</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ecmaVersion</span><span class="token operator">:</span> <span class="token number">2021</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;no-unused-vars&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;vue/no-unused-vars&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;@typescript-eslint/no-unused-vars&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">defineProps</span><span class="token operator">:</span> <span class="token string">&quot;readonly&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>当然我们并不想所有的文件都会被<code>eslint</code>校验，所以我们可以配置一个<code>eslint</code>的忽略文件</p> <p>在项目的根目录下面新建一个 <code>.eslintignore</code> 文件，添加如下内容</p> <div class="language- extra-class"><pre class="language-text"><code>node_modules
dist
*.css
*.jpg
*.jpeg
*.png
*.gif
*.d.ts

</code></pre></div><p>最后我们去配置一个<code>eslint</code>的校验命令和修复的命令</p> <div class="language-json extra-class"><pre class="language-json"><code>  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lint&quot;</span><span class="token operator">:</span><span class="token string">&quot;eslint --ext .ts,.tsx ./src --quiet&quot;</span><span class="token punctuation">,</span><span class="token comment">//校验</span>
    <span class="token property">&quot;lint:fix&quot;</span><span class="token operator">:</span><span class="token string">&quot;eslint --ext .ts,.tsx ./src --quiet --fix&quot;</span>  <span class="token comment">//修复</span>
  <span class="token punctuation">}</span>
</code></pre></div><h2 id="配置prettier"><a href="#配置prettier" class="header-anchor">#</a> 配置Prettier</h2> <p><code>Eslint</code> 主要解决的是代码质量问题，例如如下几个规则：</p> <ul><li>no-unused-vars  禁止出现未使用过的变量</li> <li>no-implicit-globals 禁止在全局范围内使用变量声明和<code>function</code>声明</li> <li>prefer-promise-reject-errors 要求使用<code>Error</code> 对象作为<code>Promise</code>拒绝的原因</li></ul> <p><code>Prettier</code> 主要解决是代码的风格问题，例如如下几个规则：</p> <ul><li>max-len  最大长度</li> <li>no-mixed-spaces-and-tabs 不允许空格和tab混合</li> <li>keyword-spacing 关键字的空</li> <li>comma-style 冒号风格</li></ul> <p>下面安装依赖：</p> <ul><li>prettier 代码格式化</li> <li>eslint-plugin-prettier 作为<code>Eslint</code> 规则运行的 <code>prettier</code></li> <li>@vue/eslint-config-prettier <code>Vue</code> 的 <code>eslint-config-prettier</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>pnpm install prettier eslint<span class="token operator">-</span>plugin<span class="token operator">-</span>prettier @vue<span class="token operator">/</span>eslint<span class="token operator">-</span>config<span class="token operator">-</span>prettier <span class="token operator">-</span><span class="token constant">D</span> 
</code></pre></div><p>修改<code>.eslintrc.js</code> 配置文件，在原有的基础上面新增几个<code>eslint</code>的继承规则</p> <div class="language-js extra-class"><pre class="language-js"><code>  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;prettier&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@vue/eslint-config-prettier&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre></div><p>也可以自己定义一些代码风格格式，可以在根目录下面新建一个<code>.prettierrc.js</code>文件，可以在里面新增如下的内容：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">singleQuote</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tabWidth</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">indent</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">semi</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">trailingComma</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">endOfLine</span><span class="token operator">:</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre></div><h2 id="配置-editorconfig"><a href="#配置-editorconfig" class="header-anchor">#</a> 配置 editorconfig</h2> <ul><li><code>editorconfig</code> 帮助开发人员在不同的编辑器和<code>IDE</code>之间定义和维护一致的编码样式</li> <li>不同的开发人员，不同的编辑器，有不同的编码风格，而<code>editorconfig</code> 就是用来协同团队开发人员之间的代码的风格及样式规范化的一个工具，而<code>.editorconfig</code> 正是它的默认的配置文件</li> <li><code>vscode</code>这类编辑器，需要自行安装 <code>editorconfig</code> 插件</li></ul> <h3 id="editorconfig"><a href="#editorconfig" class="header-anchor">#</a> .editorconfig</h3> <ul><li><code>Unix</code> 系统里，每行结尾只有 <code>换行</code> ，即 <code>\n</code> <code>LF</code></li> <li><code>Window</code> 系统里面，每行结尾是<code>换行 回车</code> ，即 <code>\r\n</code> <code>CR\LF</code></li> <li><code>Mac</code>系统里面，每行结尾是 <code>回车</code>，即 <code>\r</code> <code>CR</code></li></ul> <p>可以在配置文件中添加如下的内容：</p> <div class="language- extra-class"><pre class="language-text"><code>root = true

[*]
charset = utf-8
indent_style = spaces
indent_size = 2
end_of_line = if
</code></pre></div><h2 id="配置-git-hooks"><a href="#配置-git-hooks" class="header-anchor">#</a> 配置 git hooks</h2> <p>作用：</p> <ul><li>可以在 <code>git commit</code> 之前检查代码，保证所有提交到版本库中的代码都是符合规范的</li> <li>可以在 <code>git push</code> 之前执行单元测试，保证所有的提交的代码经过的单元测试</li> <li><code>·husky</code> 可以让我们向项目中方便添加 <code>git hooks</code> 它会自动在仓库中的 <code>git/目录下</code> 增加相应的钩子比如 <code>pre-commit</code> 钩子就会在你执行 <code>commit</code> 命令的时候的触发</li> <li><code>lint-staged</code> 用于实现每次提交只检查本次提交所修改的文件</li> <li><code>mrm</code> 可以根据 <code>packagejson</code> 依赖项中的代码质量工具来安装和配置 <code>husky</code> 和 <code>lint-staged</code></li> <li><code>Commitlint</code> 可以规范 <code>git commit -m &quot;&quot;</code> 中的描述信息</li></ul> <p>安装依赖：</p> <p>先安装 <code>mrm</code> ，再去安装 <code>lint-staged</code></p> <p><code>mrm</code>安装 <code>lint-staged</code>的同时会去安装 <code>husky</code></p> <div class="language-js extra-class"><pre class="language-js"><code>pnpm i mrm <span class="token operator">-</span><span class="token constant">D</span>

npx mrm lint<span class="token operator">-</span>staged
</code></pre></div><p>安装完成之后可能你的 <code>package.json</code> 中会多几个配置</p> <div class="language-json extra-class"><pre class="language-json"><code> <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;prepare&quot;</span><span class="token operator">:</span> <span class="token string">&quot;husky install&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;*.{ts,tsx}&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint --cache --fix&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lint-staged&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&gt;=10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mrm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.6&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="配置-commitlint"><a href="#配置-commitlint" class="header-anchor">#</a> 配置 commitlint</h2> <p>接下来我们需要配置 <code>commitlint</code> 来约束提交信息的格式</p> <p><code>commitlint</code> 推荐我们使用 <a href="https://github.com/conventional-changelog/commitlint/tree/master/%40commitlint/config-conventional" target="_blank" rel="noopener noreferrer">config-conventional<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>去写 <code>commit</code></p> <p>提交格式： <code>git commit -m &lt;type&gt;[optional scope]: &lt;description&gt;</code></p> <ul><li>type 用于表明我们这次提交的改动类型，是新增了功能？还是修改了测试代码？又或者是更新了文档？</li> <li>optional scope 一个可选的修改范围，用于标示此次提交主要涉及到的代码中的哪个模块</li> <li>description 一句话描述此次提交的主要内容，做到言简意赅</li></ul> <p><code>type</code> 可选项</p> <ul><li>build 编译相关的修改，例如发布版本，对项目构建或者依赖的变动</li> <li>chore 其他修改，比如改变构建流程，或者增加依赖库，工具等</li> <li>ci 持续集成修改</li> <li>docs 文档修改</li> <li>feature 新特性、功能</li> <li>fix 修改 bug</li> <li>perf 优化相关，比如提升性能、体验</li> <li>refactor 代码重构</li> <li>revert 回滚到上一个版本</li> <li>style 代码格式修改</li> <li>test 测试用例修改</li></ul> <p>安装依赖：</p> <div class="language-js extra-class"><pre class="language-js"><code>pnpm install @commitlint<span class="token operator">/</span>cli @commitlint<span class="token operator">/</span>config<span class="token operator">-</span>conventional <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>配置：</p> <p>在项目的根目录下面执行命令</p> <div class="language-cmd extra-class"><pre class="language-text"><code>npx husky add .husky/cmmmit-msg &quot;npx --no-install commitlint --edit $1&quot;
</code></pre></div><p>这个时候在<code>.husky</code> 文件夹下面会多出一个 <code>commit-msg</code>文件，里面有如下内容</p> <div class="language-cmd extra-class"><pre class="language-text"><code>#!/usr/bin/env sh
. &quot;$(dirname -- &quot;$0&quot;)/_/husky.sh&quot;

npx --no-install commitlint --edit $1

</code></pre></div><p>然后我们可以在根目录下面新建一个 <code>commitlint-config.js</code> 文件去配置我们提交的<code>msg</code>的格式</p> <p>例如：</p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@commitlint/config-conventional&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;type-enum&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;always&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&quot;build&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;feature&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bug&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fix&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>这个时候如果我们再去提交代码，那么就需要按照一定的<code>msg</code>格式去提交了。</p> <p>我们也可以使用 <code>commitlint-plugin-function-rules</code> 插件去自定义我们的校验方式。</p> <h2 id="配置别名"><a href="#配置别名" class="header-anchor">#</a> 配置别名</h2> <p>当我们想要使用别名<code>@ 、src</code>的时候，这个时候需要同时配置一下 <code>vite.config.js</code> 和 <code>tsconfig.json</code> 文件</p> <p><code>vite.config.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&quot;@vitejs/plugin-vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&quot;path&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>tsconfig.json</code></p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span><span class="token comment">//基本路径，表示当前路径</span>
        <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;src/*&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

</code></pre></div><p>接下来我们就可以这么使用并且不会报错了</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">&quot;@/components/HelloWorld.vue&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="样式处理"><a href="#样式处理" class="header-anchor">#</a> 样式处理</h2> <p>接下来我们就处理项目中样式的配置</p> <h3 id="全局样式"><a href="#全局样式" class="header-anchor">#</a> 全局样式</h3> <p>可以在<code>src</code> 目录下面新建一个 <code>style</code> 文件夹来单独存放我们的样式文件，再在里面新建一个 <code>global.css</code> 文件，表示这个是一个全局的样式文件</p> <p>可以在里面写入一个基本的样式：</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.title</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bolder<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>你可能会发现这个是可以生效的，所以<code>vite</code> 应该默认添加了对 <code>css</code>文件的处理</p> <h3 id="局部样式"><a href="#局部样式" class="header-anchor">#</a> 局部样式</h3> <p>当我们每一个组件的 <code>style</code> 标签有 <code>scoped</code>属性时，它的 <code>css</code> 只作用于当前组件的元素，相信使用过 <code>vue</code> 的同学都知道这点</p> <p>它使用 <code>data-v-hash</code> 的方式来使 <code>css</code> 有了它对应模块的标识</p> <h3 id="使用内联-css-module"><a href="#使用内联-css-module" class="header-anchor">#</a> 使用内联 <code>css module</code></h3> <p>我们可以在组件内部使用<code>css module</code> 的方式去添加样式</p> <p>例如：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    hellow world <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$style.msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> HelloWorldType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./type&quot;</span><span class="token punctuation">;</span>
<span class="token function">defineProps</span><span class="token punctuation">(</span>HelloWorldType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.msg</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>当然我们也可以将样式外链进来，但是如果你想使用<code>css module</code>，那么文件名一定得是 <code>xxx.module.css</code> 这种格式</p> <p>例如：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    hellow world <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Style.msg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ msg }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Style <span class="token keyword">from</span> <span class="token string">&quot;./index.module.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> HelloWorldType <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./type&quot;</span><span class="token punctuation">;</span>
<span class="token function">defineProps</span><span class="token punctuation">(</span>HelloWorldType<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="样式预处理器"><a href="#样式预处理器" class="header-anchor">#</a> 样式预处理器</h3> <p><code>Vite</code> 也同时提供了对 <code>.scss .sass .less .stvl 和 .stylus</code> 文件的内置支持。没有必要为它们安装特定的 <code>Vite</code> 插件，但必须安装相应的预处理器依赖</p> <p><code>Vite</code> 为 <code>Sass和Less</code> 改进了 <code>@import</code> 解析，以保证 <code>vite</code> 别名也能被使用</p> <p>安装依赖：</p> <div class="language-js extra-class"><pre class="language-js"><code>pnpm install sass less <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>安装了之后重新启动就可以使用了</p> <h3 id="配置-postcss-兼容不同的浏览器"><a href="#配置-postcss-兼容不同的浏览器" class="header-anchor">#</a> 配置 postcss 兼容不同的浏览器</h3> <p>为了浏览器的兼容性，有时候我们必须加入 <code>-webkit, -ms ,-o , -moz</code> 这些前缀</p> <ul><li><code>Trident内核</code> 主要代表为 <code>IE</code> 浏览器，前缀为<code>-ms</code></li> <li><code>Gecko内核</code> 主要代表为<code>Firefox</code>，前缀为<code>-moz</code></li> <li><code>Presto内核</code> 主要代表为 <code>Opera</code> 前缀为 <code>-o</code></li> <li><code>Webkit内核</code> 产要代表为 <code>Chrome和Safari</code> 前缀为 <code>-webkit</code></li></ul> <p>如果项目包含有效的 <code>PostCSS</code> 配置，它将会自动应用于所有已导入的 <code>CSS</code></p> <p>安装依赖：</p> <div class="language-js extra-class"><pre class="language-js"><code>pnpm install autoprefixer  <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><p>在项目根目录下面新建一个<code>postcss.config.js</code> 文件</p> <p>使用 <code>autoprefixer</code></p> <div class="language-js extra-class"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;autoprefixer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre></div><p>在项目根目录下面新建一个<code>..browserslistrc</code> 文件来约束浏览器的版本，</p> <p>写入配置：</p> <div class="language- extra-class"><pre class="language-text"><code>&gt;0.2%
not dead
not op_mini all

</code></pre></div><p>之后我们重启，发现如果样式中有一些<code>css3</code>的新特性，那么在不同的浏览器中就会被添加上不同的样式前缀来兼容</p> <h2 id="静态资源处理"><a href="#静态资源处理" class="header-anchor">#</a> 静态资源处理</h2> <p>在<code>vite</code> 配置的项目中你可以直接去引用静态资源，<code>vite</code> 会进行处理，返回一个静态资源解析后的路径</p> <p>第一种方式：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@/assets/test.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>第二种方式：</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>TestImg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> TestImg <span class="token keyword">from</span> <span class="token string">&quot;@/assets/test.png&quot;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><h2 id="其他配置"><a href="#其他配置" class="header-anchor">#</a> 其他配置</h2> <p>接下来大家可以接着根据自己的实际情况去配置一下东西，比如 <code>Mock、单元测试</code> 等等。。。</p></div> <footer class="page-edit"><!----> <!----></footer> <div><div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Study-Notes/Vue/搭建vue3和ts组件库开发环境.html" class="prev">
        搭建vue3和ts组件库开发环境
      </a></span> <span class="next"><a href="/Study-Notes/Vue/基于Element-plus实现虚拟下拉组件.html">
        基于Element-plus实现虚拟下拉组件
      </a>
      →
    </span></p></div> <div class="icp-footer"><p>Copyright© 2022-2025 _妄想何方</p> <a href="https://beian.miit.gov.cn/" target="_blank">蜀ICP备2022010321号-1</a></div></div> </main></div><div class="global-ui"></div></div>
    <script src="/Study-Notes/assets/js/app.667a64fa.js" defer></script><script src="/Study-Notes/assets/js/2.950c954c.js" defer></script><script src="/Study-Notes/assets/js/24.2079b0ae.js" defer></script><script src="/Study-Notes/assets/js/13.1dd4895a.js" defer></script>
  </body>
</html>
